# üöÄ Nikbot - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ –ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é
2. ‚úÖ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
3. ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
4. ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Vercel –∏ Railway –≥–æ—Ç–æ–≤–∞

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (—Ç—Ä–µ–±—É—é—Ç –≤–∞—à–µ–≥–æ —É—á–∞—Å—Ç–∏—è):

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ GitHub

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
cd /Users/nikita/Development/chatflow

# –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
# https://github.com/new
# –ù–∞–∑–≤–∞–Ω–∏–µ: nikbot

# –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
git remote add origin https://github.com/–í–ê–®_USERNAME/nikbot.git
git branch -M main
git push -u origin main
```

---

### –®–∞–≥ 2: Railway (Backend + Database)

#### 2.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://railway.app
2. –ù–∞–∂–º–∏—Ç–µ **"Login with GitHub"**
3. –ù–∞–∂–º–∏—Ç–µ **"New Project"**

#### 2.2 –î–æ–±–∞–≤—å—Ç–µ PostgreSQL

1. –ù–∞–∂–º–∏—Ç–µ **"+ New"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Database"** ‚Üí **"Add PostgreSQL"**
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—É—é –±–∞–∑—É
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Connect"**
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **"Postgres Connection URL"**
   ```
   postgresql://postgres:password@containers-us-west-xxx.railway.app:5432/railway
   ```

#### 2.3 –î–æ–±–∞–≤—å—Ç–µ Redis

1. –ù–∞–∂–º–∏—Ç–µ **"+ New"** —Å–Ω–æ–≤–∞
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Database"** ‚Üí **"Add Redis"**
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π Redis
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Connect"**
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **"Redis Connection URL"**
   ```
   redis://default:password@containers-us-west-xxx.railway.app:6379
   ```

#### 2.4 –î–µ–ø–ª–æ–π API

1. –ù–∞–∂–º–∏—Ç–µ **"+ New"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"GitHub Repo"**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **nikbot**
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç Dockerfile

#### 2.5 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í —Å–µ—Ä–≤–∏—Å–µ API –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Variables"** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
DATABASE_URL=postgresql://... (–∏–∑ —à–∞–≥–∞ 2.2)
REDIS_URL=redis://... (–∏–∑ —à–∞–≥–∞ 2.3)
JWT_SECRET=—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ_—Å–ª—É—á–∞–π–Ω—É—é_—Å—Ç—Ä–æ–∫—É_32_—Å–∏–º–≤–æ–ª–∞
JWT_REFRESH_SECRET=—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ_–¥—Ä—É–≥—É—é_—Å–ª—É—á–∞–π–Ω—É—é_—Å—Ç—Ä–æ–∫—É_32_—Å–∏–º–≤–æ–ª–∞
NODE_ENV=production
PORT=4000
APP_URL=https://nikbot.space
API_URL=https://api.nikbot.space
```

**–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
openssl rand -base64 32
```

#### 2.6 –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏

1. –í Railway –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å API
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Settings"** ‚Üí **"Deployments"**
3. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π –∏ –Ω–∞–∂–º–∏—Ç–µ **"View Logs"**
4. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway CLI:
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CLI
   npm i -g @railway/cli

   # –í–æ–π–¥–∏—Ç–µ
   railway login

   # –°–≤—è–∂–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
   railway link

   # –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
   railway run pnpm db:push
   ```

#### 2.7 –ü–æ–ª—É—á–∏—Ç–µ URL API

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö API —Å–µ—Ä–≤–∏—Å–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Settings"**
2. –û—Ç–∫—Ä–æ–π—Ç–µ **"Networking"** ‚Üí **"Public Networking"**
3. –ù–∞–∂–º–∏—Ç–µ **"Generate Domain"**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä):
   ```
   nikbot-api-production-xxxx.up.railway.app
   ```

---

### –®–∞–≥ 3: Vercel (Frontend)

#### 3.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∏–º–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://vercel.com
2. –ù–∞–∂–º–∏—Ç–µ **"Login with GitHub"**
3. –ù–∞–∂–º–∏—Ç–µ **"Add New..."** ‚Üí **"Project"**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **nikbot**

#### 3.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

**Root Directory:**
```
apps/web
```

**Build Command:**
```bash
cd ../.. && pnpm install && pnpm --filter @nexbot/web build
```

**Output Directory:**
```
.next
```

**Install Command:**
```bash
pnpm install
```

#### 3.3 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ Vercel:

```env
NEXT_PUBLIC_API_URL=https://nikbot-api-production-xxxx.up.railway.app/api/v1
```
*(–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ URL –∏–∑ —à–∞–≥–∞ 2.7)*

#### 3.4 –î–µ–ø–ª–æ–π

1. –ù–∞–∂–º–∏—Ç–µ **"Deploy"**
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–±–æ—Ä–∫–∏ (~2-3 –º–∏–Ω—É—Ç—ã)
3. –ü–æ–ª—É—á–∏—Ç–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä):
   ```
   nikbot-xxx.vercel.app
   ```

---

### –®–∞–≥ 4: Cloudflare + DNS

#### 4.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Cloudflare

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://dash.cloudflare.com/sign-up
2. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–∂–º–∏—Ç–µ **"Add a Site"**
4. –í–≤–µ–¥–∏—Ç–µ **nikbot.space**
5. –í—ã–±–µ—Ä–∏—Ç–µ **"Free"** plan
6. –ù–∞–∂–º–∏—Ç–µ **"Continue"**

#### 4.2 –ü–æ–ª—É—á–∏—Ç–µ DNS-—Å–µ—Ä–≤–µ—Ä—ã

Cloudflare –ø–æ–∫–∞–∂–µ—Ç 2 DNS-—Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
bella.ns.cloudflare.com
danny.ns.cloudflare.com
```

**–ó–∞–ø–∏—à–∏—Ç–µ –∏—Ö!**

#### 4.3 –û–±–Ω–æ–≤–∏—Ç–µ DNS –Ω–∞ reg.ru

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å reg.ru
2. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω **nikbot.space**
3. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª DNS
4. –í—ã–±–µ—Ä–∏—Ç–µ **"–£–∫–∞–∑–∞—Ç—å DNS-—Å–µ—Ä–≤–µ—Ä—ã"**
5. –í–≤–µ–¥–∏—Ç–µ –æ–±–∞ DNS-—Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç Cloudflare:
   - `bella.ns.cloudflare.com`
   - `danny.ns.cloudflare.com`
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

‚è∞ **–û–∂–∏–¥–∞–Ω–∏–µ:** DNS –æ–±–Ω–æ–≤—è—Ç—Å—è –∑–∞ 1-24 —á–∞—Å–∞ (–æ–±—ã—á–Ω–æ ~1-2 —á–∞—Å–∞)

#### 4.4 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏ –≤ Cloudflare

–ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ Cloudflare (–ø–æ–ª—É—á–∏—Ç–µ email), –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å–∏:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **DNS** ‚Üí **Records**
2. –î–æ–±–∞–≤—å—Ç–µ:

**–î–ª—è Frontend (Vercel):**
```
Type    Name    Content                    Proxy Status
CNAME   @       cname.vercel-dns.com       Proxied (üü†)
CNAME   www     cname.vercel-dns.com       Proxied (üü†)
```

**–î–ª—è API (Railway):**
```
Type    Name    Content                                        Proxy Status
CNAME   api     nikbot-api-production-xxxx.up.railway.app     Proxied (üü†)
```
*(–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ URL –∏–∑ —à–∞–≥–∞ 2.7, –ë–ï–ó https://)*

---

### –®–∞–≥ 5: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –¥–æ–º–µ–Ω—ã

#### 5.1 –í Vercel

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç **nikbot**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Settings"** ‚Üí **"Domains"**
3. –î–æ–±–∞–≤—å—Ç–µ:
   - `nikbot.space`
   - `www.nikbot.space`
4. –ù–∞–∂–º–∏—Ç–µ **"Add"**
5. Vercel –ø—Ä–æ–≤–µ—Ä–∏—Ç DNS (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è)

#### 5.2 –í Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å API
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Settings"** ‚Üí **"Networking"**
3. –í —Ä–∞–∑–¥–µ–ª–µ **"Custom Domain"** –Ω–∞–∂–º–∏—Ç–µ **"+ Add Domain"**
4. –í–≤–µ–¥–∏—Ç–µ: `api.nikbot.space`
5. Railway –ø—Ä–æ–≤–µ—Ä–∏—Ç DNS

#### 5.3 –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–í Vercel –æ–±–Ω–æ–≤–∏—Ç–µ:**
```env
NEXT_PUBLIC_API_URL=https://api.nikbot.space/api/v1
```

**–í Railway –æ–±–Ω–æ–≤–∏—Ç–µ:**
```env
APP_URL=https://nikbot.space
API_URL=https://api.nikbot.space
```

---

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Frontend:** https://nikbot.space
2. **API Health:** https://api.nikbot.space/api/v1/health
3. **API Docs:** https://api.nikbot.space/api/docs

---

## üéØ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
pnpm build

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–Ω—Ç–∏–Ω–≥ (–µ—Å–ª–∏ –µ—Å—Ç—å)
pnpm lint

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ
git status
```

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **Railway Logs:** –û—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å ‚Üí Deployments ‚Üí View Logs
2. **Vercel Logs:** –û—Ç–∫—Ä–æ–π—Ç–µ deployment ‚Üí Function Logs
3. **DNS Check:** https://dnschecker.org/#A/nikbot.space

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

- **Vercel:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (Free tier)
- **Railway:** $5 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤, –ø–æ—Ç–æ–º ~$5-10/–º–µ—Å—è—Ü
- **Cloudflare:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (Free tier)

**–ò—Ç–æ–≥–æ:** ~$5-10/–º–µ—Å—è—Ü –¥–ª—è –Ω–∞—á–∞–ª–∞

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:

‚úÖ –†–∞–±–æ—á–∏–π —Å–∞–π—Ç –Ω–∞ https://nikbot.space
‚úÖ API –Ω–∞ https://api.nikbot.space
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ main
‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL
‚úÖ CDN –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS
